{% load add_tense get_settings %}

<ul class="colList nav nav-tabs nav-tabs-collocation col-lg-11 col-md-11 col-sm-11 col-xs-11" role="tablist">
  {% for collocation in r.collocationList.cL %}
    <li class="second-row" role="presentation">
      <a href="#{{ collocation.label }}" class="colloc-sub-btn" role="tab"
              {% if forloop.counter == r.collocationList.index %} id="first"{% endif %}
         data-toggle="tab" type="{{ collocation.type }}" expand="[]">
        {% if collocation.t_dt.0|wordcount == 2 and collocation.t_dt.0|first != '*' and collocation.t_dt.0|last != '*' or collocation.t_dt.0|wordcount > 2 %}
          {% if collocation.t_dt.1 == '0' %}全部例句
          {% elif collocation.t_dt.1 == '1' %}主谓例句
          {% elif collocation.t_dt.1 == '2' %}动宾例句
          {% elif collocation.t_dt.1 == '3' %}修饰例句
          {% elif collocation.t_dt.1 == '4' %}介词例句
          {% endif %}
        {% else %}
          {% if collocation.t_dt.1 == '0' %}
            {% for word in collocation.t_dt.0 %}{{ word|cut:"*" }} {% endfor %}
          {% elif collocation.t_dt.1 == '1' %}
            {% for word in collocation.t_dt.0 %}
              {% if collocation.t_dt.0|first == '*' and word != '*' %}主语 + {{ word }}
                {% elif collocation.t_dt.0|last == '*' and word != '*' %}{{ word }} + 动词
                {% else %}{{ word|cut:"*" }} {% endif %}
            {% endfor %}
          {% elif collocation.t_dt.1 == '2' %}
            {% for word in collocation.t_dt.0 %}
              {% if collocation.t_dt.0|first == '*' and word != '*' %}动词 + {{ word }}
                {% elif collocation.t_dt.0|last == '*' and word != '*' %}{{ word }} + 宾语
                {% else %}{{ word|cut:"*" }} {% endif %}
            {% endfor %}
          {% elif collocation.t_dt.1 == '3' %}
            {% for word in collocation.t_dt.0 %}
              {% if collocation.t_dt.0|first == '*' and word != '*' %}修饰词 + {{ word }}
                {% elif collocation.t_dt.0|last == '*' and word != '*' %}{{ word }} + 被修饰词
                {% elif word == collocation.t_dt.0.0 %}{{ word|cut:"*"|add_tense }}
                {% else %}{{ word|cut:"*" }} {% endif %}
            {% endfor %}
          {% elif collocation.t_dt.1 == '4' %}
            {% for word in collocation.t_dt.0 %}
              {% if collocation.t_dt.0|first == '*' and word != '*' %}介词 + {{ word }}
                {% elif collocation.t_dt.0|last == '*' and word != '*' %}{{ word }} + 介词
                {% else %}{{ word|cut:"*" }} {% endif %}
            {% endfor %}
          {% endif %}
        {% endif %}
      </a>
    </li>
  {% endfor %}
</ul>


